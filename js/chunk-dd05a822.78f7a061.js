(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dd05a822"],{1334:function(e,t,o){"use strict";var i=o("284f"),l=o.n(i);l.a},"284f":function(e,t,o){},"5f20":function(e,t,o){"use strict";o.r(t);var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"userManger"},[o("div",{staticClass:"web-userManger web-business"},[o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[o("el-table-column",{attrs:{label:"角色描述",prop:"name"}}),o("el-table-column",{attrs:{label:"用户名",prop:"userName"}}),o("el-table-column",{attrs:{label:"创建时间",prop:"creationDate"}}),o("el-table-column",{attrs:{align:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{ref:"edit",attrs:{size:"mini",disabled:e.isEnabled},on:{click:function(o){return e.handleEditAction(t.$index,t.row)}}},[e._v("编辑")]),o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){return e.handleDisableAction(t.$index,t)}}},[e._v("禁用")])]}}])},[o("template",{slot:"header"},[o("el-button",{staticClass:"handleAdd",attrs:{size:"larger"},on:{click:e.handleAddAction}},[e._v("新增用户")])],1)],2)],1)],1),o("el-dialog",{attrs:{title:e.handleTitle,visible:e.handleAddVisible,width:"420px","before-close":e.handleAddClose,"custom-class":"radius-active"},on:{"update:visible":function(t){e.handleAddVisible=t}}},[o("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.addFormRules,"label-width":"82px"}},[o("el-form-item",{attrs:{label:"角色描述",prop:"name"}},[o("el-input",{attrs:{autocomplete:"on"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),o("el-form-item",{attrs:{label:"用户名",prop:"userName"}},[o("el-input",{attrs:{autocomplete:"on"},model:{value:e.addForm.userName,callback:function(t){e.$set(e.addForm,"userName",t)},expression:"addForm.userName"}})],1),o("el-form-item",{attrs:{label:"密码",prop:"passWord"}},[o("el-input",{attrs:{type:"password",autocomplete:"on"},model:{value:e.addForm.passWord,callback:function(t){e.$set(e.addForm,"passWord",t)},expression:"addForm.passWord"}})],1),o("el-form-item",{attrs:{label:"角色",prop:"role"}},[o("el-checkbox-group",{attrs:{size:"medium"},on:{change:e.addFormChange},model:{value:e.addForm.role,callback:function(t){e.$set(e.addForm,"role",t)},expression:"addForm.role"}},e._l(e.baseRoleDatas,(function(t){return o("div",{key:t,staticClass:"addCheckbox"},[o("el-checkbox",{key:t,ref:"addCheckbox",refInFor:!0,attrs:{label:t}},[e._v(e._s(t))])],1)})),0)],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){return e.handleCancleAction("addForm")}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleAddDone("addForm")}}},[e._v("确 定")])],1)],1),o("el-dialog",{ref:"editDialog",attrs:{title:e.editTitle,visible:e.editVisible,width:"420px","before-close":e.editClose,index:e.idex,"custom-class":"radius-active","close-on-click-modal":!1},on:{"update:visible":function(t){e.editVisible=t}}},[o("el-form",{ref:"editForm",attrs:{model:e.editForm,rules:e.editFormRules,"label-width":"82px"}},[o("el-form-item",{attrs:{label:"用户",prop:"editUser"}},[o("el-input",{attrs:{autocomplete:"on"},model:{value:e.editForm.editUser,callback:function(t){e.$set(e.editForm,"editUser",t)},expression:"editForm.editUser"}})],1),o("el-form-item",{attrs:{label:"新密码",prop:"editPassword"}},[o("el-input",{attrs:{type:"password",autocomplete:"on"},model:{value:e.editForm.editPassword,callback:function(t){e.$set(e.editForm,"editPassword",t)},expression:"editForm.editPassword"}})],1),o("el-form-item",{attrs:{label:"确认密码",prop:"editConfirmPassword"}},[o("el-input",{attrs:{type:"password",autocomplete:"on"},model:{value:e.editForm.editConfirmPassword,callback:function(t){e.$set(e.editForm,"editConfirmPassword",t)},expression:"editForm.editConfirmPassword"}})],1),o("el-form-item",{attrs:{label:"手机号",prop:"editTelephone"}},[o("el-input",{attrs:{autocomplete:"on"},model:{value:e.editForm.editTelephone,callback:function(t){e.$set(e.editForm,"editTelephone",t)},expression:"editForm.editTelephone"}})],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){return e.editSubmitAction("editForm")}}},[e._v("提交")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.editBackDone("editForm")}}},[e._v("返回")])],1)],1)],1)},l=[],a=(o("99af"),o("4de4"),o("d81d"),o("b0c0"),o("c24f")),r=o("5f87"),s=o("c1df"),d=o.n(s),n={name:"UserManger",data:function(){return{idex:0,test:"zhu",test1:"xiaolong",fullName:"",handleTitle:"",editTitle:"",isEnabled:!1,handleAddVisible:!1,editVisible:!1,baseRoleDatas:["信息录入员","信息查询员","开票员","验车员","过户员","管理员"],editForm:{editUser:"",editPassword:"",editConfirmPassword:"",editTelephone:""},editFormRules:{editUser:[{required:!0,trigger:"blur",message:"请填写正确的格式！"}],editPassword:[{required:!0,trigger:"blur",message:"请输入密码！"}],editConfirmPassword:[{required:!0,trigger:"blur",message:"请再次输入密码！"}],editTelephone:[{required:!0,trigger:"blur",message:"请填写正确的手机号！"}]},addForm:{name:"",userName:"",passWord:"",role:[]},addFormRules:{name:[{required:!0,trigger:"blur",message:"请填写正确的格式！"}],userName:[{required:!0,trigger:"blur",message:"登录名不能为空"}],passWord:[{required:!0,trigger:"blur",message:"请输入您的密码"}],role:[{required:!0,trigger:"blur",message:"角色不能为空"}]},tableData:[]}},mounted:function(){var e=this;Object(a["r"])({page:1,size:10}).then((function(t){var o=t.data.content,i=o.map((function(e){return e.creationDate=d()(e.creationDate).format("YY-MM-DD"),e}));e.tableData=e.tableData.concat(i)}))},methods:{moment:d.a,addFormChange:function(e){console.log(e)},handleAddAction:function(){this.handleAddVisible=!0,this.handleTitle="新增用户"},handleCancleAction:function(e){this.$refs[e].resetFields(),this.handleAddVisible=!1},handleAddDone:function(e){var t=this,o=Object(r["b"])("roleList");console.log(o),this.$refs[e].validate((function(e){if(e){var i=t.addForm,l=i.name,r=i.userName,s=i.passWord,d=i.role,n=o.filter((function(e){return e.role===d[0]}))[0].id;Object(a["s"])({passWord:s,"roles[0].id":n,userName:r,name:l})}}))},editClose:function(e){this.$refs["editForm"].resetFields(),e()},allocClose:function(e){this.$refs["allocForm"].resetFields(),e()},allocChange:function(e){console.log(e)},allocBackDone:function(e){this.$refs[e].resetFields(),this.allocVisible=!1},handleAddClose:function(e){this.$refs["addForm"].resetFields(),e()},handleEditAction:function(e,t){this.idex=e,this.editTitle="编辑用户",this.editVisible=!0,console.log(this.idex),console.log(t)},editSubmitAction:function(e){var t=this;this.$refs[e].validate((function(e){if(e){var o=t.editForm,i=o.editUser,l=o.editTelephone,a=t.$refs["editDialog"].$attrs.index,r=t.tableData[a];r.user=i,r.telephone=l,t.$set(t.tableData,a,r),t.editVisible=!1,t.editTitle=""}}))},editBackDone:function(e){this.$refs[e].resetFields(),this.editVisible=!1},allocSubmitAction:function(e){var t=this,o=Object(r["b"])("row"),i=o.id,l=o.name;this.$refs[e].validate((function(e){e&&(console.log(t.allocForm.role),Object(a["m"])({available:!0,description:l,id:i,role:t.allocForm.role}).then((function(e){console.log(e)})))}))},handleDisableAction:function(e,t){console.log(t),console.log(e)},handleAllocationAction:function(e,t){this.idex=e,this.allocTitle="权限分配",this.allocVisible=!0;var o=t.userName,i=t.name;Object(r["f"])("row",t),this.allocForm.allocUser=o,this.allocForm.allocRole.push(i)}}},c=n,u=(o("1334"),o("2877")),m=Object(u["a"])(c,i,l,!1,null,null,null);t["default"]=m.exports}}]);
//# sourceMappingURL=chunk-dd05a822.78f7a061.js.map