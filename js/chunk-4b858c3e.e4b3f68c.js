(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4b858c3e"],{2043:function(t,e,i){"use strict";i.r(e);var l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"roleManger"},[i("div",{staticClass:"web-roleManger web-business"},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[i("el-table-column",{attrs:{label:"角色名",prop:"role"}}),i("el-table-column",{attrs:{label:"描述",prop:"description"}}),i("el-table-column",{attrs:{align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:"mini"},on:{click:function(i){return t.handleEditAction(e.$index,e.row)}}},[t._v("编辑")]),i("el-button",{attrs:{size:"mini"},on:{click:function(i){return t.handleAllocationAction(e.$index,e.row)}}},[t._v("授权")]),i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(i){return t.handleDisableAction(e.$index,e.row)}}},[t._v("删除")])]}}])},[i("template",{slot:"header"},[i("el-button",{staticClass:"handleAdd",attrs:{size:"larger"},on:{click:t.handleAddAction}},[t._v("新增角色")])],1)],2)],1)],1),i("el-dialog",{attrs:{title:t.handleTitle,visible:t.handleAddVisible,width:"420px","before-close":t.handleAddClose},on:{"update:visible":function(e){t.handleAddVisible=e}}},[i("el-form",{ref:"addForm",attrs:{model:t.addForm,rules:t.addFormRules,"label-width":"72px"}},[i("el-form-item",{attrs:{label:"角色名",prop:"role"}},[i("el-input",{attrs:{autocomplete:"on"},model:{value:t.addForm.role,callback:function(e){t.$set(t.addForm,"role",e)},expression:"addForm.role"}})],1),i("el-form-item",{attrs:{label:"描述",prop:"description"}},[i("el-input",{attrs:{autocomplete:"on"},model:{value:t.addForm.description,callback:function(e){t.$set(t.addForm,"description",e)},expression:"addForm.description"}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){return t.handleCancleAction("addForm")}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.handleAddDone("addForm")}}},[t._v("确 定")])],1)],1),i("el-dialog",{attrs:{title:t.editTitle,visible:t.editVisible,width:"420px","before-close":t.editClose},on:{"update:visible":function(e){t.editVisible=e}}},[i("el-form",{ref:"editForm",attrs:{model:t.editForm,rules:t.editFormRules,"label-width":"72px"}},[i("el-form-item",{attrs:{label:"角色名",prop:"editRole"}},[i("el-input",{attrs:{autocomplete:"on"},model:{value:t.editForm.editRole,callback:function(e){t.$set(t.editForm,"editRole",e)},expression:"editForm.editRole"}})],1),i("el-form-item",{attrs:{label:"描述",prop:"editDescription"}},[i("el-input",{attrs:{autocomplete:"on"},model:{value:t.editForm.editDescription,callback:function(e){t.$set(t.editForm,"editDescription",e)},expression:"editForm.editDescription"}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){return t.editAction("editForm")}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.editDone("editForm")}}},[t._v("确 定")])],1)],1),i("el-dialog",{attrs:{title:t.jurTitle,visible:t.jurVisible,width:"420px","before-close":t.jurClose},on:{"update:visible":function(e){t.jurVisible=e}}},[i("div",{staticClass:"web-jurManger-menus"},[i("el-row",{staticClass:"tac"},[i("el-col",{attrs:{span:24}},[i("el-menu",{ref:"jurMenu",staticClass:"el-menu-vertical-demo",attrs:{"default-active":"1-2"}},[i("el-submenu",{attrs:{index:"1"}},[i("template",{slot:"title"},[i("i",{staticClass:"el-icon-menu"}),i("span",[t._v("主菜单")])]),i("el-menu-item-group",[i("el-menu-item",{attrs:{index:"1-1"}},[i("i",{staticClass:"el-icon-s-finance"}),i("span",{attrs:{slot:"title"},slot:"title"},[t._v("历史业务")])]),i("el-menu-item",{attrs:{index:"1-2"}},[i("i",{staticClass:"el-icon-s-help"}),i("span",{attrs:{slot:"title"},slot:"title"},[t._v("当前业务")])]),i("el-menu-item",{attrs:{index:"1-3"}},[i("i",{staticClass:"el-icon-s-marketing"}),i("span",{attrs:{slot:"title"},slot:"title"},[t._v("待办事项")])])],1)],2),i("el-submenu",{attrs:{index:"1-4"}},[i("template",{slot:"title"},[i("i",{staticClass:"el-icon-menu"}),i("span",{attrs:{slot:"title"},slot:"title"},[t._v("用户管理")])]),i("el-menu-item",{attrs:{index:"1-5-1"}},[i("i",{staticClass:"el-icon-plus"}),i("span",{attrs:{slot:"title"},slot:"title"},[t._v("用户增加")])]),i("el-menu-item",{attrs:{index:"1-5-2"}},[i("i",{staticClass:"el-icon-finished"}),i("span",{attrs:{slot:"title"},slot:"title"},[t._v("用户编辑")])]),i("el-menu-item",{attrs:{index:"1-5-3"}},[i("i",{staticClass:"el-icon-s-custom"}),i("span",{attrs:{slot:"title"},slot:"title"},[t._v("角色管理")])]),i("el-menu-item",{attrs:{index:"1-5-4"}},[i("i",{staticClass:"el-icon-s-fold"}),i("span",{attrs:{slot:"title"},slot:"title"},[t._v("权限管理")])])],2)],1)],1)],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:t.jurDone}},[t._v("关 闭")])],1)])],1)},o=[],r=(i("a4d3"),i("e01a"),i("d28b"),i("45fc"),i("a434"),i("d3b7"),i("3ca3"),i("ddb0"),i("96cf"),i("5c96")),n=i("61f7"),s=i("c24f"),a={name:"RoleManger",data:function(){var t=function(t,e,i){Object(n["d"])(e)?Object(n["e"])(e)?i():i(new Error("角色填写错误!")):i(new Error("角色不能为空!"))},e=function(t,e,i){Object(n["d"])(e)?Object(n["c"])(e)?i():i(new Error("描述不能少于6个字！")):i(new Error("描述不能为空!"))};return{handleTitle:"",editTitle:"",handleAddVisible:!1,editVisible:!1,jurTitle:"",jurVisible:!1,editForm:{editRole:"",editDescription:""},editFormRules:{editRole:[{required:!0,trigger:"blur",validator:t}],editDescription:[{required:!0,trigger:"blur",validator:t}]},addForm:{role:"",description:""},addFormRules:{role:[{required:!0,trigger:"blur",validator:t}],description:[{required:!0,trigger:"blur",validator:e}]},tableData:[{role:"录入员",description:"资料录入者"},{role:"查询员",description:"资料查询员"},{role:"审核员",description:"资料审核员"},{role:"过户员",description:"资料过户员"},{role:"开票员",description:"资料开票员"},{role:"管理员",description:"资料管理员"}]}},beforeMount:function(){var t,e,i,l,o=this;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:if(t=sessionStorage.getItem("data"),t){r.next=7;break}return r.next=4,regeneratorRuntime.awrap(this.$store.dispatch("user/doLoginOut"));case 4:this.$router.push({path:"/login"}),r.next=9;break;case 7:e=JSON.parse(sessionStorage.getItem("data")),i=e.page,l=e.size,Object(s["n"])({page:i,size:l}).then((function(t){var e=!0,i=!1,l=void 0;try{for(var r,n=t.data.content[Symbol.iterator]();!(e=(r=n.next()).done);e=!0){var s=r.value,a=s.role,d=s.description;o.tableData.push({role:a,description:d})}}catch(c){i=!0,l=c}finally{try{e||null==n.return||n.return()}finally{if(i)throw l}}}));case 9:case"end":return r.stop()}}),null,this)},methods:{handleAddAction:function(){this.handleAddVisible=!0,this.handleTitle="新增角色"},handleCancleAction:function(t){this.$refs[t].resetFields(),this.handleAddVisible=!1},handleAddDone:function(t){var e=this;this.$refs[t].validate((function(i){if(i){var l=e.addForm,o=l.role,n=l.description,s=e.tableData.some((function(t){return JSON.stringify({role:o,description:n})===JSON.stringify(t)}));s?(Object(r["Message"])({message:"该角色已经存在，请重新填写",type:"error",duration:3e3}),e.$refs[t].resetFields()):(e.tableData.push({role:o,description:n}),e.handleAddVisible=!1,e.$refs[t].resetFields())}}))},handleAddClose:function(t){this.$refs["addForm"].resetFields(),t()},editClose:function(t){this.$refs["editForm"].resetFields(),t()},jurClose:function(t){t()},handleEditAction:function(t,e){console.log(t),console.log(e),this.editVisible=!0,this.editTitle="编辑角色"},editAction:function(t){this.$refs[t].resetFields(),this.editVisible=!1},editDone:function(t){this.$refs[t].resetFields(),this.editVisible=!1},jurDone:function(){this.jurVisible=!1,this.jurTitle=""},handleDisableAction:function(t,e){console.log(t),console.log(e),this.tableData.splice(t,1)},handleAllocationAction:function(t,e){console.log(t),console.log(e),this.jurVisible=!0,this.jurTitle="授权管理"}}},d=a,c=(i("609c"),i("2877")),u=Object(c["a"])(d,l,o,!1,null,null,null);e["default"]=u.exports},"3ca3":function(t,e,i){"use strict";var l=i("6547").charAt,o=i("69f3"),r=i("7dd0"),n="String Iterator",s=o.set,a=o.getterFor(n);r(String,"String",(function(t){s(this,{type:n,string:String(t),index:0})}),(function(){var t,e=a(this),i=e.string,o=e.index;return o>=i.length?{value:void 0,done:!0}:(t=l(i,o),e.index+=t.length,{value:t,done:!1})}))},"45fc":function(t,e,i){"use strict";var l=i("23e7"),o=i("b727").some,r=i("b301");l({target:"Array",proto:!0,forced:r("some")},{some:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},"52d0":function(t,e,i){},"609c":function(t,e,i){"use strict";var l=i("52d0"),o=i.n(l);o.a},a434:function(t,e,i){"use strict";var l=i("23e7"),o=i("23cb"),r=i("a691"),n=i("50c4"),s=i("7b0b"),a=i("65f0"),d=i("8418"),c=i("1dde"),u=Math.max,f=Math.min,p=9007199254740991,m="Maximum allowed length exceeded";l({target:"Array",proto:!0,forced:!c("splice")},{splice:function(t,e){var i,l,c,b,h,v,g=s(this),F=n(g.length),x=o(t,F),A=arguments.length;if(0===A?i=l=0:1===A?(i=0,l=F-x):(i=A-2,l=f(u(r(e),0),F-x)),F+i-l>p)throw TypeError(m);for(c=a(g,l),b=0;b<l;b++)h=x+b,h in g&&d(c,b,g[h]);if(c.length=l,i<l){for(b=x;b<F-l;b++)h=b+l,v=b+i,h in g?g[v]=g[h]:delete g[v];for(b=F;b>F-l+i;b--)delete g[b-1]}else if(i>l)for(b=F-l;b>x;b--)h=b+l-1,v=b+i-1,h in g?g[v]=g[h]:delete g[v];for(b=0;b<i;b++)g[b+x]=arguments[b+2];return g.length=F-l+i,c}})},d28b:function(t,e,i){var l=i("746f");l("iterator")}}]);
//# sourceMappingURL=chunk-4b858c3e.e4b3f68c.js.map