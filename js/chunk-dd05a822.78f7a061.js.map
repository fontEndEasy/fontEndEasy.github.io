{"version":3,"sources":["webpack:///./src/views/UserManger.vue?9624","webpack:///./src/views/UserManger.vue?547b","webpack:///src/views/UserManger.vue","webpack:///./src/views/UserManger.vue?ea3f","webpack:///./src/views/UserManger.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","tableData","scopedSlots","_u","key","fn","scope","ref","isEnabled","on","$event","handleEditAction","$index","row","_v","handleDisableAction","slot","handleAddAction","handleTitle","handleAddVisible","handleAddClose","addForm","addFormRules","model","value","callback","$$v","$set","expression","addFormChange","_l","item","refInFor","_s","handleCancleAction","handleAddDone","editTitle","editVisible","editClose","idex","editForm","editFormRules","editSubmitAction","editBackDone","staticRenderFns","name","data","test","test1","fullName","baseRoleDatas","editUser","editPassword","editConfirmPassword","editTelephone","userName","passWord","role","mounted","methods","moment","console","log","val","roleList","$refs","formName","validate","valid","id","resetFields","done","allocClose","allocChange","allocBackDone","allocVisible","index","user","telephone","allocSubmitAction","available","description","resp","handleAllocationAction","allocTitle","allocForm","allocUser","allocRole","push","component"],"mappings":"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","file":"js/chunk-dd05a822.78f7a061.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserManger.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserManger.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"userManger\"},[_c('div',{staticClass:\"web-userManger web-business\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"label\":\"角色描述\",\"prop\":\"name\"}}),_c('el-table-column',{attrs:{\"label\":\"用户名\",\"prop\":\"userName\"}}),_c('el-table-column',{attrs:{\"label\":\"创建时间\",\"prop\":\"creationDate\"}}),_c('el-table-column',{attrs:{\"align\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{ref:\"edit\",attrs:{\"size\":\"mini\",\"disabled\":_vm.isEnabled},on:{\"click\":function($event){return _vm.handleEditAction(scope.$index, scope.row)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDisableAction(scope.$index, scope)}}},[_vm._v(\"禁用\")])]}}])},[_c('template',{slot:\"header\"},[_c('el-button',{staticClass:\"handleAdd\",attrs:{\"size\":\"larger\"},on:{\"click\":_vm.handleAddAction}},[_vm._v(\"新增用户\")])],1)],2)],1)],1),_c('el-dialog',{attrs:{\"title\":_vm.handleTitle,\"visible\":_vm.handleAddVisible,\"width\":\"420px\",\"before-close\":_vm.handleAddClose,\"custom-class\":\"radius-active\"},on:{\"update:visible\":function($event){_vm.handleAddVisible=$event}}},[_c('el-form',{ref:\"addForm\",attrs:{\"model\":_vm.addForm,\"rules\":_vm.addFormRules,\"label-width\":\"82px\"}},[_c('el-form-item',{attrs:{\"label\":\"角色描述\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"autocomplete\":\"on\"},model:{value:(_vm.addForm.name),callback:function ($$v) {_vm.$set(_vm.addForm, \"name\", $$v)},expression:\"addForm.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"userName\"}},[_c('el-input',{attrs:{\"autocomplete\":\"on\"},model:{value:(_vm.addForm.userName),callback:function ($$v) {_vm.$set(_vm.addForm, \"userName\", $$v)},expression:\"addForm.userName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"passWord\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"autocomplete\":\"on\"},model:{value:(_vm.addForm.passWord),callback:function ($$v) {_vm.$set(_vm.addForm, \"passWord\", $$v)},expression:\"addForm.passWord\"}})],1),_c('el-form-item',{attrs:{\"label\":\"角色\",\"prop\":\"role\"}},[_c('el-checkbox-group',{attrs:{\"size\":\"medium\"},on:{\"change\":_vm.addFormChange},model:{value:(_vm.addForm.role),callback:function ($$v) {_vm.$set(_vm.addForm, \"role\", $$v)},expression:\"addForm.role\"}},_vm._l((_vm.baseRoleDatas),function(item){return _c('div',{key:item,staticClass:\"addCheckbox\"},[_c('el-checkbox',{key:item,ref:\"addCheckbox\",refInFor:true,attrs:{\"label\":item}},[_vm._v(_vm._s(item))])],1)}),0)],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){return _vm.handleCancleAction('addForm')}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleAddDone('addForm')}}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{ref:\"editDialog\",attrs:{\"title\":_vm.editTitle,\"visible\":_vm.editVisible,\"width\":\"420px\",\"before-close\":_vm.editClose,\"index\":_vm.idex,\"custom-class\":\"radius-active\",\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.editVisible=$event}}},[_c('el-form',{ref:\"editForm\",attrs:{\"model\":_vm.editForm,\"rules\":_vm.editFormRules,\"label-width\":\"82px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户\",\"prop\":\"editUser\"}},[_c('el-input',{attrs:{\"autocomplete\":\"on\"},model:{value:(_vm.editForm.editUser),callback:function ($$v) {_vm.$set(_vm.editForm, \"editUser\", $$v)},expression:\"editForm.editUser\"}})],1),_c('el-form-item',{attrs:{\"label\":\"新密码\",\"prop\":\"editPassword\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"autocomplete\":\"on\"},model:{value:(_vm.editForm.editPassword),callback:function ($$v) {_vm.$set(_vm.editForm, \"editPassword\", $$v)},expression:\"editForm.editPassword\"}})],1),_c('el-form-item',{attrs:{\"label\":\"确认密码\",\"prop\":\"editConfirmPassword\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"autocomplete\":\"on\"},model:{value:(_vm.editForm.editConfirmPassword),callback:function ($$v) {_vm.$set(_vm.editForm, \"editConfirmPassword\", $$v)},expression:\"editForm.editConfirmPassword\"}})],1),_c('el-form-item',{attrs:{\"label\":\"手机号\",\"prop\":\"editTelephone\"}},[_c('el-input',{attrs:{\"autocomplete\":\"on\"},model:{value:(_vm.editForm.editTelephone),callback:function ($$v) {_vm.$set(_vm.editForm, \"editTelephone\", $$v)},expression:\"editForm.editTelephone\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){return _vm.editSubmitAction('editForm')}}},[_vm._v(\"提交\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.editBackDone('editForm')}}},[_vm._v(\"返回\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"userManger\">\r\n    <div class=\"web-userManger web-business\">\r\n      <el-table :data=\"tableData\" style=\"width: 100%\">\r\n        <el-table-column label=\"角色描述\" prop=\"name\"></el-table-column>\r\n        <el-table-column label=\"用户名\" prop=\"userName\"></el-table-column>\r\n        <el-table-column label=\"创建时间\" prop=\"creationDate\"></el-table-column>\r\n        <el-table-column align=\"right\">\r\n          <template slot=\"header\">\r\n            <el-button class=\"handleAdd\" size=\"larger\" @click=\"handleAddAction\">新增用户</el-button>\r\n          </template>\r\n          <template slot-scope=\"scope\">\r\n            <el-button size=\"mini\" ref=\"edit\" :disabled=\"isEnabled\" @click=\"handleEditAction(scope.$index, scope.row)\">编辑</el-button>\r\n            <!--<el-button size=\"mini\" ref=\"alloc\" :disabled=\"isEnabled\" @click=\"handleAllocationAction(scope.$index, scope.row)\">分配</el-button>-->\r\n            <el-button size=\"mini\" type=\"danger\" @click=\"handleDisableAction(scope.$index, scope)\">禁用</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </div>\r\n    <el-dialog\r\n      :title=\"handleTitle\"\r\n      :visible.sync=\"handleAddVisible\"\r\n      width=\"420px\"\r\n      :before-close=\"handleAddClose\"\r\n      custom-class=\"radius-active\"\r\n    >\r\n      <el-form :model=\"addForm\" :rules=\"addFormRules\" ref=\"addForm\" label-width=\"82px\">\r\n        <el-form-item label=\"角色描述\" prop=\"name\">\r\n          <el-input v-model=\"addForm.name\" autocomplete=\"on\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"用户名\" prop=\"userName\">\r\n          <el-input v-model=\"addForm.userName\" autocomplete=\"on\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"密码\" prop=\"passWord\">\r\n          <el-input type=\"password\" v-model=\"addForm.passWord\" autocomplete=\"on\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"角色\" prop=\"role\">\r\n          <el-checkbox-group v-model=\"addForm.role\" @change=\"addFormChange\" size=\"medium\">\r\n            <div class=\"addCheckbox\" v-for=\"item in baseRoleDatas\" :key=\"item\">\r\n              <el-checkbox ref=\"addCheckbox\" :label=\"item\" :key=\"item\">{{ item }}</el-checkbox>\r\n            </div>\r\n          </el-checkbox-group>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"handleCancleAction('addForm')\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"handleAddDone('addForm')\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n    <el-dialog\r\n      ref=\"editDialog\"\r\n      :title=\"editTitle\"\r\n      :visible.sync=\"editVisible\"\r\n      width=\"420px\"\r\n      :before-close=\"editClose\"\r\n      :index=\"idex\"\r\n      custom-class=\"radius-active\"\r\n      :close-on-click-modal=\"false\"\r\n    >\r\n      <el-form :model=\"editForm\" :rules=\"editFormRules\" ref=\"editForm\" label-width=\"82px\">\r\n        <el-form-item label=\"用户\" prop=\"editUser\">\r\n          <el-input v-model=\"editForm.editUser\" autocomplete=\"on\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"新密码\" prop=\"editPassword\">\r\n          <el-input type=\"password\" v-model=\"editForm.editPassword\" autocomplete=\"on\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"确认密码\" prop=\"editConfirmPassword\">\r\n          <el-input type=\"password\" v-model=\"editForm.editConfirmPassword\" autocomplete=\"on\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"手机号\" prop=\"editTelephone\">\r\n          <el-input v-model=\"editForm.editTelephone\" autocomplete=\"on\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"editSubmitAction('editForm')\">提交</el-button>\r\n        <el-button type=\"primary\" @click=\"editBackDone('editForm')\">返回</el-button>\r\n      </div>\r\n    </el-dialog>\r\n    <!--\r\n    <el-dialog\r\n      ref=\"allocDialog\"\r\n      :title=\"allocTitle\"\r\n      :visible.sync=\"allocVisible\"\r\n      width=\"420px\"\r\n      :before-close=\"allocClose\"\r\n      :index=\"idex\"\r\n      custom-class=\"radius-active\"\r\n      :close-on-click-modal=\"false\"\r\n    >\r\n      <el-form :model=\"allocForm\" :rules=\"allocFormRules\" ref=\"allocForm\" label-width=\"82px\">\r\n        <el-form-item label=\"用户名\" prop=\"allocUser\">\r\n          <el-input v-model=\"allocForm.allocUser\" autocomplete=\"on\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"手机号\" prop=\"allocTelephone\">\r\n          <el-input type=\"password\" v-model=\"allocForm.allocTelephone\" autocomplete=\"on\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"角色\" prop=\"allocRole\">\r\n          <el-checkbox-group v-model=\"allocForm.allocRole\" @change=\"allocChange\" size=\"medium\">\r\n            <div class=\"allocCheckbox\" v-for=\"item in allocDatas\" :key=\"item\">\r\n              <el-checkbox ref=\"checkbox\" :label=\"item\" :key=\"item\">{{ item }}</el-checkbox>\r\n            </div>\r\n          </el-checkbox-group>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"allocSubmitAction('allocForm')\">提交</el-button>\r\n        <el-button type=\"primary\" @click=\"allocBackDone('allocForm')\">返回</el-button>\r\n      </div>\r\n    </el-dialog>-->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { getUserList, getRoleSaveOrUpdate, getUserSaveOrUpdate } from '@/api/user'\r\nimport { getStorage, setStorage } from '@/utils/auth'\r\nimport moment from 'moment'\r\nexport default {\r\n  name: \"UserManger\",\r\n  data() {\r\n    return {\r\n      idex: 0,\r\n      test: 'zhu',\r\n      test1: 'xiaolong',\r\n      fullName: '',\r\n      handleTitle: '',\r\n      editTitle: '',\r\n      isEnabled: false,\r\n      handleAddVisible: false,\r\n      editVisible: false,\r\n      baseRoleDatas: ['信息录入员','信息查询员','开票员','验车员', '过户员', '管理员'],\r\n      editForm: {\r\n        editUser: '',\r\n        editPassword: '',\r\n        editConfirmPassword: '',\r\n        editTelephone: ''\r\n      },\r\n      editFormRules: {\r\n        editUser: [{\r\n            required: true,\r\n            trigger: 'blur',\r\n            message: '请填写正确的格式！'\r\n          }],\r\n        editPassword: [{\r\n            required: true,\r\n            trigger: 'blur',\r\n            message: '请输入密码！'\r\n          }],\r\n        editConfirmPassword: [{\r\n            required: true,\r\n            trigger: 'blur',\r\n            message: '请再次输入密码！'\r\n          }],\r\n        editTelephone: [{\r\n            required: true,\r\n            trigger: 'blur',\r\n            message: '请填写正确的手机号！'\r\n          }]\r\n      },\r\n      addForm: {\r\n        name: '',\r\n        userName: '',\r\n        passWord: '',\r\n        role: []\r\n      },\r\n      addFormRules: {\r\n        name: [{ required: true, trigger: 'blur', message: '请填写正确的格式！' }],\r\n        userName: [{ required: true, trigger: 'blur', message: '登录名不能为空'}],\r\n        passWord: [{ required: true, trigger: 'blur', message: '请输入您的密码'}],\r\n        role: [{ required: true, trigger: 'blur', message: '角色不能为空'}]\r\n      },\r\n      tableData: []\r\n    };\r\n  },\r\n  mounted () { \r\n    /*\r\n    const roleList = JSON.parse(sessionStorage.getItem('roleList'));\r\n     const menuList = JSON.parse(sessionStorage.getItem('menuList'));\r\n\r\n    const role = roleList.filter(item => {\r\n      return item.role === '信息录入员'\r\n    })\r\n    const params = {\r\n      userName: 'zxl',\r\n      show: role[0].show,\r\n      passWord: '123123',\r\n      available: true,\r\n      name: role[0].description,\r\n      description: role[0].description,\r\n      id: role[0].id,\r\n      role: role[0].role\r\n    }\r\n    \r\n    getUserSaveOrUpdate(params).then(resp => {\r\n      console.log(resp)\r\n      debugger\r\n    })\r\n    */\r\n    getUserList({page: 1, size: 10}).then(resp => {\r\n      let resultData = resp.data.content;\r\n      let mapData = resultData.map(item => {\r\n            item.creationDate = moment(item.creationDate).format('YY-MM-DD');\r\n            return item\r\n          })\r\n      this.tableData = this.tableData.concat(mapData)\r\n    });\r\n  },\r\n  methods: {\r\n    moment: moment,\r\n    addFormChange(val) {\r\n      console.log(val)\r\n    },\r\n    handleAddAction() {\r\n      this.handleAddVisible = true;\r\n      this.handleTitle = \"新增用户\";\r\n    },\r\n    handleCancleAction(formName) {\r\n        this.$refs[formName].resetFields()\r\n        this.handleAddVisible = false\r\n    },\r\n    handleAddDone(formName) {\r\n      const roleList = getStorage('roleList')\r\n      console.log(roleList)\r\n      // const menuList = JSON.parse(sessionStorage.getItem('menuList'))\r\n      \r\n      this.$refs[formName].validate(valid => {\r\n        if (valid) {\r\n          const { name, userName, passWord, role } = this.addForm\r\n          // this.handleAddVisible = false\r\n\r\n          const { id } = roleList.filter(item => {\r\n            return item.role === role[0]\r\n          })[0]\r\n\r\n          getUserSaveOrUpdate({\r\n            passWord: passWord,\r\n            'roles[0].id': id,\r\n            userName: userName,\r\n            name: name\r\n          })\r\n        }\r\n      });\r\n    },\r\n    editClose(done) {\r\n      this.$refs['editForm'].resetFields()\r\n      done()\r\n    },\r\n    allocClose(done) {\r\n      this.$refs['allocForm'].resetFields()\r\n      done()\r\n    },\r\n    allocChange(val) {\r\n      console.log(val)\r\n    },\r\n    allocBackDone(formName) {\r\n      this.$refs[formName].resetFields()\r\n      this.allocVisible = false\r\n    },\r\n    handleAddClose(done) {\r\n      this.$refs['addForm'].resetFields()\r\n      done()\r\n    },\r\n    handleEditAction(index, row) {\r\n      this.idex = index;\r\n      this.editTitle = '编辑用户'\r\n      this.editVisible = true\r\n      console.log(this.idex)\r\n      console.log(row)\r\n    },\r\n    editSubmitAction(formName) {\r\n      this.$refs[formName].validate(valid => {\r\n        if (valid) {\r\n          const { editUser, editTelephone } = this.editForm\r\n          const idex = this.$refs['editDialog'].$attrs.index \r\n          const data = this.tableData[idex]\r\n          data.user = editUser\r\n          data.telephone = editTelephone\r\n          this.$set(this.tableData, idex, data)\r\n          this.editVisible = false\r\n          this.editTitle = ''\r\n        }\r\n      })\r\n    },\r\n    editBackDone(formName) {\r\n      this.$refs[formName].resetFields()\r\n      this.editVisible = false\r\n    },\r\n    allocSubmitAction(formName) {\r\n      const { id, name } = getStorage(\"row\")\r\n      this.$refs[formName].validate(valid => {\r\n        if (valid) {\r\n          console.log(this.allocForm.role)\r\n          getRoleSaveOrUpdate({\r\n            available: true,\r\n            description: name,\r\n            id: id,\r\n            role: this.allocForm.role\r\n          }).then(resp => {\r\n            console.log(resp)\r\n          })\r\n        }\r\n      })\r\n    },\r\n    handleDisableAction(index, row) {\r\n      console.log(row)\r\n      console.log(index)\r\n    },\r\n    handleAllocationAction(index, row) {\r\n      this.idex = index\r\n      this.allocTitle = '权限分配'\r\n      this.allocVisible = true\r\n      \r\n      const { userName, name } = row;\r\n      setStorage(\"row\", row)\r\n      this.allocForm.allocUser = userName\r\n      this.allocForm.allocRole.push(name)\r\n      \r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\n.web-business {\r\n  margin-top: 32px;\r\n  :last-child {\r\n    a {\r\n      border-bottom: 1px solid #ddd;\r\n    }\r\n  }\r\n  a {\r\n    display: block;\r\n    padding: 30px 0;\r\n    border-top: 1px solid #ddd;\r\n  }\r\n}\r\n.userManger {\r\n  width: 80%;\r\n  margin: 0 auto;\r\n  .el-checkbox-group {\r\n    text-align: left;\r\n    div {\r\n      margin-left: 20px;\r\n    }\r\n  }\r\n  .handleAdd {\r\n    width: 190px;\r\n    background-color: #4f8ade;\r\n    color: #fff;\r\n  }\r\n}\r\n.el-card__body {\r\n  padding: 0 !important;\r\n  .item {\r\n    padding: 10px 0;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserManger.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserManger.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserManger.vue?vue&type=template&id=19c8d718&\"\nimport script from \"./UserManger.vue?vue&type=script&lang=js&\"\nexport * from \"./UserManger.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserManger.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}